<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_60) on Wed Mar 04 14:40:46 SAST 2015 -->
<title>DataSocketFactory</title>
<meta name="date" content="2015-03-04">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DataSocketFactory";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataSocketFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../be/ppareit/swiftp/server/CmdUSER.html" title="class in be.ppareit.swiftp.server"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../be/ppareit/swiftp/server/FtpCmd.html" title="class in be.ppareit.swiftp.server"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?be/ppareit/swiftp/server/DataSocketFactory.html" target="_top">Frames</a></li>
<li><a href="DataSocketFactory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">be.ppareit.swiftp.server</div>
<h2 title="Class DataSocketFactory" class="title">Class DataSocketFactory</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>be.ppareit.swiftp.server.DataSocketFactory</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../be/ppareit/swiftp/server/NormalDataSocketFactory.html" title="class in be.ppareit.swiftp.server">NormalDataSocketFactory</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">DataSocketFactory</span>
extends java.lang.Object</pre>
<div class="block">A DataSocketFactory hides the implementation of the opening and closing of the data
 sockets which are used to transmit directory listings and file contents. This is
 necessary because normal FTP data sockets are opened and closed very differently from
 the abnormal sort of data sockets we use in conjunction with our proxy system.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../be/ppareit/swiftp/server/DataSocketFactory.html#DataSocketFactory()">DataSocketFactory</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract java.net.InetAddress</code></td>
<td class="colLast"><code><strong><a href="../../../../be/ppareit/swiftp/server/DataSocketFactory.html#getPasvIp()">getPasvIp</a></strong>()</code>
<div class="block">Sometimes we'll need to know the IP address at which we can be contacted.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><strong><a href="../../../../be/ppareit/swiftp/server/DataSocketFactory.html#onPasv()">onPasv</a></strong>()</code>
<div class="block">When SwiFTP receives a PASV command, this will be called.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../be/ppareit/swiftp/server/DataSocketFactory.html#onPort(java.net.InetAddress,%20int)">onPort</a></strong>(java.net.InetAddress&nbsp;dest,
      int&nbsp;port)</code>
<div class="block">When SwiFTP receives a PORT command, this will be called.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>abstract java.net.Socket</code></td>
<td class="colLast"><code><strong><a href="../../../../be/ppareit/swiftp/server/DataSocketFactory.html#onTransfer()">onTransfer</a></strong>()</code>
<div class="block">When it's time for data transfer to begin, the SessionThread will call this method
 to perform any necessary actions to prepare the Socket for use and return it in a
 state that's ready for reading or writing.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><strong><a href="../../../../be/ppareit/swiftp/server/DataSocketFactory.html#reportTraffic(long)">reportTraffic</a></strong>(long&nbsp;numBytes)</code>
<div class="block">We sometimes want to track the total number of bytes that go over the command and
 data sockets.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DataSocketFactory()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DataSocketFactory</h4>
<pre>public&nbsp;DataSocketFactory()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="onPort(java.net.InetAddress, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onPort</h4>
<pre>public abstract&nbsp;boolean&nbsp;onPort(java.net.InetAddress&nbsp;dest,
             int&nbsp;port)</pre>
<div class="block">When SwiFTP receives a PORT command, this will be called. Subclasses should perform
 whatever initialization is necessary.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Whether the necessary actions completed successfully</dd></dl>
</li>
</ul>
<a name="onPasv()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onPasv</h4>
<pre>public abstract&nbsp;int&nbsp;onPasv()</pre>
<div class="block">When SwiFTP receives a PASV command, this will be called. Subclasses should perform
 whatever initialization is necessary.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Whether the necessary actions completed successfully</dd></dl>
</li>
</ul>
<a name="onTransfer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onTransfer</h4>
<pre>public abstract&nbsp;java.net.Socket&nbsp;onTransfer()</pre>
<div class="block">When it's time for data transfer to begin, the SessionThread will call this method
 to perform any necessary actions to prepare the Socket for use and return it in a
 state that's ready for reading or writing.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The opened Socket</dd></dl>
</li>
</ul>
<a name="getPasvIp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPasvIp</h4>
<pre>public abstract&nbsp;java.net.InetAddress&nbsp;getPasvIp()</pre>
<div class="block">Sometimes we'll need to know the IP address at which we can be contacted. For
 instance, the response to a PASV command will be the IP and port that the client
 should use to connect it's data socket.</div>
</li>
</ul>
<a name="reportTraffic(long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reportTraffic</h4>
<pre>public abstract&nbsp;void&nbsp;reportTraffic(long&nbsp;numBytes)</pre>
<div class="block">We sometimes want to track the total number of bytes that go over the command and
 data sockets. The SessionThread can call this function to reports its usage, and
 different DataSocketFactory subclasses can handle the data however is appropriate.
 For the ProxyDataSocketFactory, we want to present the total to the user in the UI
 to guilt them into donating.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>numBytes</code> - the number of bytes to add to the total</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataSocketFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../be/ppareit/swiftp/server/CmdUSER.html" title="class in be.ppareit.swiftp.server"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../be/ppareit/swiftp/server/FtpCmd.html" title="class in be.ppareit.swiftp.server"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?be/ppareit/swiftp/server/DataSocketFactory.html" target="_top">Frames</a></li>
<li><a href="DataSocketFactory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
